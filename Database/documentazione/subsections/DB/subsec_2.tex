\newpage
\subsection{Progettazione Logica}

\subsubsection{Mapping delle Associazioni}

\bigskip
\begin{center}
	\textbf{Associazioni 1:1}
\end{center}
\bigskip

\begin{tblr}{
    hlines = {0.9pt}, vlines = {0.9pt}, colspec = {X[l]X[l]},
    width = \textwidth, cell{1}{1-2} = {blue!10!white}
}
	{
		Associazione
	}
	&
	{
		Traduzione
	}
	\\
	{
		\textbf{Confederation-Country}
	}
	&
	{
		Poiché Country ha una partecipazione parziale
		si è deciso di procedere con:\\
		\medskip Inserimento nella classe Confederation
		della chiave esterna all'id di Country.
	}
	\\
	{
		\textbf{Play-StatisticGeneral}
	}
	&
	{
		Poiché StatisticGeneral è una classe
		debole si è deciso di procedere con:\\
		\medskip Inserimento nella classe StatisticGeneral
		della chiave esterna all'id di Play.
	}
	\\
	{
		\textbf{Play-StatisticGoalkeeper}
	}
	&
	{
		Poiché Play ha una partecipazione parziale
		si è deciso di procedere con:\\
		\medskip Inserimento nella classe StatisticGoalkeeper
		della chiave esterna all'id di Play.
	}
	\\
	{
		\textbf{Player-AttributeGoalkeeping}
	}
	&
	{
		Poiché Player ha una partecipazione parziale
		si è deciso di procedere con:\\
		\medskip Inserimento nella classe AttributeGoalkeeping
		della chiave esterna all'id di Player.
	}
	\\
	{
		\textbf{Player-AttributeMental}
	}
	&
	{
		Poiché AttributeMental è una classe
		debole si è deciso di procedere con:\\
		\medskip Inserimento nella classe AttributeMental
		della chiave esterna all'id di Player.
	}
	\\
	{
		\textbf{Player-AttributePhysical}
	}
	&
	{
		Poiché AttributePhysical è una classe
		debole si è deciso di procedere con:\\
		\medskip Inserimento nella classe AttributePhysical
		della chiave esterna all'id di Player.
	}
	\\
	{
		\textbf{Player-AttributeTechnical}
	}
	&
	{
		Poiché AttributeTechnical è una classe
		debole si è deciso di procedere con:\\
		\medskip Inserimento nella classe AttributeTechnical
		della chiave esterna all'id di Player.
	}
	\\
	{
		\textbf{Player-PlayerRetired}
	}
	&
	{
		Poiché Player ha una partecipazione parziale
		si è deciso di procedere con:\\
		\medskip Inserimento nella classse PlayerRetired
		della chiave esterna all'id di Player.
	}
	\\
\end{tblr}

\newpage

\begin{center}
	\textbf{Associazioni 1:N}
\end{center}

\begin{tblr}{
    hlines = {0.9pt}, vlines = {0.9pt}, colspec = {X[l]X[l]},
    width = \textwidth, cell{1}{1-2} = {blue!10!white}
}
	{
		Associazione
	}
	&
	{
		Traduzione
	}
	\\
	{
		\textbf{bornCountry}
	}
	&
	{
		Inserimento nella classe Player della
		chiave esterna all'id di Country.
	}
	\\
	{
		\textbf{Competition-CompetitionEdition}
	}
	&
	{
		Inserimento nella classe CompetitionEdition
		della chiave esterna all'id di Competition.
	}
	\\
	{
		\textbf{Competition-Confederation}
	}
	&
	{
		Inserimento nella classe Competition
		della chiave esterna all'id di Confederation.
	}
	\\
	{
		\textbf{Confederation-Confederation}
	}
	&
	{
		Poiché soltanto un istanza della classe
		Confederation non avrà una Confederation
		che la contiene, ovvero la confederazione mondiale,
		si è deciso di procedere con:\\
		\medskip Inserimento nella classe Confederation
		della chiave esterna all'id di Confederation
		in cui è contenuta.
	}
	\\
	{
		\textbf{Country-Country}
	}
	&
	{
		Poiché soltanto un istanza della classe
		Country non avrà una Country
		che la contiene, ovvero il Mondo,
		si è deciso di procedere con:\\
		\medskip Inserimento nella classe Country
		della chiave esterna all'id di Country
		in cui è contenuta.
	}
	\\
	{
		\textbf{MainPosition}
	}
	&
	{
		Inserimento nella classe Player
		della chiave esterna all'id di Position.
	}
	\\
	{
		\textbf{Team-Country}
	}
	&
	{
		Inserimento nella classe Team
		della chiave esterna all'id di Country.
	}
	\\
\end{tblr}

\bigskip

\begin{center}
	\textbf{Associazioni M:N}
\end{center}

Per ognuna delle seguenti associazioni si seguirà il caso generale per la traduzione della associazioni M:N, ovvero l'associazione verrà codificata come una relazione che conterrà, oltre ad eventuali attributi, le chiavi esterne alle classi che sono in relazione.

\bigskip

\begin{tblr}{
    hlines = {0.9pt}, vlines = {0.9pt},
    colspec = {X[l]X[l]X[l]X[l]},
    width = \textwidth, cell{1}{1-4} = {blue!10!white}
}
	{
		Associazione
	}
	&
	{
		Classe in Relazione
	}
	&
	{
		Classe in Relazione
	}
	&
	{
		Classe in Relazione
	}
	\\
	{
		\textbf{Militancy}
	}
	&
	{
		Player
	}
	&
	{
		Team
	}
	&
	{
		
	}
	\\
	{
		\textbf{Nationality}
	}
	&
	{
		Player
	}
	&
	{
		Country
	}
	&
	{
		
	}
	\\
	{
		\textbf{Partecipation}
	}
	&
	{
		Team
	}
	&
	{
		CompetitionEdition
	}
	&
	{
		
	}
	\\
	{
		\textbf{Partecipation-Trophy}\\
		Renamed to:\\
		\textbf{TeamTrophyCase}
	}
	&
	{
		Partecipation
	}
	&
	{
		Trophy
	}
	&
	{
		
	}
	\\
	{
		\textbf{Play}
	}
	&
	{
		Militancy
	}
	&
	{
		Partecipation
	}
	&
	{
		
	}
	\\
	{
		\textbf{Player-Position}\\
		Renamed to:\\
		\textbf{PlayerPosition}
	}
	&
	{
		Player
	}
	&
	{
		Position
	}
	&
	{
		
	}
	\\
	{
		\textbf{PlayerPrizeCase}
	}
	&
	{
		Player
	}
	&
	{
		Prize
	}
	&
	{
		
	}
	\\
	{
		\textbf{Player-Tag}\\
		Renamed to:\\
		\textbf{PlayerTag}
	}
	&
	{
		Player
	}
	&
	{
		Tag
	}
	&
	{
		
	}
	\\
	{
		\textbf{PlayerTrophyCase}
	}
	&
	{
		Militancy
	}
	&
	{
		Partecipation
	}
	&
	{
		Trophy
	}
	\\
	{
		\textbf{TeamPrizeCase}
	}
	&
	{
		Team
	}
	&
	{
		Prize
	}
	&
	{
		
	}
	\\
\end{tblr}

\newpage

\subsubsection{Modello Logico}

LEGENDA:

\begin{itemize}
	\item Gli attributi sottolineati sono chiavi primarie
		(es. \pk{chiave primaria});
	\item Gli attributi con accanto una freccia
	verso l'alto sono chiavi esterne
		(es. \fk{chiave esterna}).
\end{itemize}

\bigskip

\begin{tblr}{
    hlines = {0.9pt},
    colspec = {X[l]X[l]}, column{1}={130pt},
    width = \textwidth
}

	{
		\textbf{AttributeGoalkeeping}
	}
	&
	{
		
		(aerialReach, commandOfArea, communication,
		eccentricity, firstTouchGk, handling,
		kicking, oneOnOnes, passingGk,
		punchingTendency, reflexes,
		rushingOutTendency, throwing,
		\pfk{playerId})\\
		\bigskip playerId $\mapsto$ Player.id
	}
	\\
	{
		\textbf{AttributeMental}
	}
	&
	{
		(aggression, anticipation, bravery, composure,
		concentration, decision, determination, flair,
		leadership, offTheBall, positioning, teamwork,
		vision, workRate, \pfk{playerId})\\
		\bigskip playerId $\mapsto$ Player.id
	}
	\\
	{
		\textbf{AttributePhysical}
	}
	&
	{
		(acceleration, agility, balance, jumpingReach,
		naturalFitness, pace, stamina, strenght,
		\pfk{playerId})\\
		\bigskip playerId $\mapsto$ Player.id
	}
	\\
	{
		\textbf{AttributeTechnical}
	}
	&
	{
		(corners, crossing, dribbling, finishing, firstTouch,
		freeKickTaking, heading, longShots, longThrows,
		marking, passing, penaltyTaking, tackling, technique,
		\pfk{playerId})\\
		\bigskip playerId $\mapsto$ Player.id
	}
	\\
	{
		\textbf{Competition}
	}
	&
	{
		(\pk{id}, type, teamType, name, frequency,
		\fk{confederationId})\\
		\bigskip confederationId $\mapsto$ Confederation.id
	}
	\\
	{
		\textbf{CompetitionEdition}
	}
	&
	{
		(\pk{startYear, \fk{competitionId}}, endYear)\\
		\bigskip competitionId $\mapsto$ Competition.id
	}
	\\
	{
		\textbf{Confederation}
	}
	&
	{
		(\pk{id}, shortName, longName, \fk{countryId},
		\fk{superId})\\
		\bigskip countryId $\mapsto$ Country.id\\
		superId $\mapsto$ Confederation.id
	}
	\\
	{
		\textbf{Country}
	}
	&
	{
		(\pk{id}, type, code, name, \fk{superId})\\
		\bigskip superId $\mapsto$ Country.id
	}
	\\
	{
		\textbf{Militancy}
	}
	&
	{
		(\pk{startYear, \fk{playerId}, \fk{teamId}},
		\fk{teamType}, type)\\
		\bigskip  playerId $\mapsto$ Player.id\\
		(teamId, teamType) $\mapsto$ (Team.id, Team.type)
	}
	\\
	{
		\textbf{Nationality}
	}
	&
	{
		(\pk{\fk{playerId}, \fk{countryId}})\\
		\bigskip playerId $\mapsto$ Player.id\\
		countryId $\mapsto$ Country.id
	}
	\\
\end{tblr}

\newpage


\begin{tblr}{
    hlines = {0.9pt},
    colspec = {X[l]X[l]}, column{1}={130pt},
    width = \textwidth
}


	{
		\textbf{Partecipation}
	}
	&
	{
		(\pk{\fk{startYear}, \fk{competitionId},
		\fk{teamId}})\\
		\bigskip (startYear, competitionId) $\mapsto$
		(CompetitionEdition.startYear,
		CompetitionEdition.competitionId)\\
		teamId $\mapsto$ Team.id
	}
	\\
	{
		\textbf{Play}
	}
	&
	{
		(\pk{id}, match, \fk{playerId}, \fk{teamId},
		\fk{startYear}, \fk{competitionId})\\
		\bigskip (playerId, teamId, startYear) $\mapsto$ (Militancy.playerId,
		Militancy.teamId, Militancy.startYear)\\
		(teamId, competitionId, startYear) $\mapsto$ (Partecipation.teamId,
		Partecipation.competitionId, Partecipation.startYear)
		
	}
	\\	
	{
		\textbf{Player}
	}
	&
	{
		(\pk{id}, name, surname, dob, foot, role,
		\fk{countryId}, \fk{positionId})\\
		\bigskip countryId $\mapsto$ Country.id\\
		positionId $\mapsto$ Position.id
	}
	\\
	{
		\textbf{PlayerPosition}
	}
	&
	{
		(\pk{\fk{playerId}, \fk{positionId}})\\
		\bigskip playerId $\mapsto$ Player.id\\
		positionId $\mapsto$ Position.id
	}
	\\
	{
		\textbf{PlayerPrizeCase}
	}
	&
	{
		(\pk{assignYear, \fk{playerId},\fk{prizeId}})\\
		\bigskip playerId $\mapsto$ Player.id\\
		prizeId $\mapsto$ Prize.id
	}
	\\
	{
		\textbf{PlayerRetired}
	}
	&
	{
		(retiredDate, \pfk{playerId})\\
		\bigskip playerId $\mapsto$ Player.id
	}
	\\
	{
		\textbf{PlayerTag}
	}
	&
	{
		(\pk{\fk{playerId}, \fk{tagId}})\\
		\bigskip playerId $\mapsto$ Player.id\\
		tagId $\mapsto$ Tag.id
	}
	\\
	{
		\textbf{PlayerTrophyCase}
	}
	&
	{
		(\pk{\fk{trophyId}, \fk{playerId}, \fk{teamId},
		\fk{startYear}, \fk{competitionId}})\\
		\bigskip trophyId $\mapsto$ Trophy.id\\
		(playerId, teamId, startYear) $\mapsto$ 
		(Militancy.playerId, Militancy.teamId,
		Militancy.startYear)\\
		(teamId, competitionId, startYear) $\mapsto$
		(Partecipation.teamId, Partecipation.competitionId,
		Partecipation.startYear)
	}
	\\
	{
		\textbf{Position}
	}
	&
	{
		(\pk{id}, role, code, name)
	}
	\\
	{
		\textbf{Prize}
	}
	&
	{
		(\pk{id}, type, role, name, given)
	}
	\\
	{
		\textbf{StatisticGeneral}
	}
	&
	{
		(goalScored, assist, yellowCard, redCard,
		penaltyScored, \pfk{playId})\\
		\bigskip playId $\mapsto$ Play.id
	}
	\\
	{
		\textbf{StatisticGoalkeeper}
	}
	&
	{
		(goalConceded, penaltySaved, \pfk{playId})\\
		\bigskip playId $\mapsto$ Play.id
	}
	\\
	{
		\textbf{Tag}
	}
	&
	{
		(\pk{id}, goalkeeper, positive, name)
	}
	\\
\end{tblr}

\newpage

\begin{tblr}{
    hlines = {0.9pt},
    colspec = {X[l]X[l]}, column{1}={130pt},
    width = \textwidth
}

	{
		\textbf{Team}
	}
	&
	{
		(\pk{id}, type, \fk{countryId}, longName, shortName)\\
		\bigskip countryId $\mapsto$ Country.id
	}
	\\
	{
		\textbf{TeamPrizeCase}
	}
	&
	{
		(\pk{\fk{teamId}, \fk{prizeId}, assignYear})\\
		\bigskip teamId $\mapsto$ Team.id\\
		prizeId $\mapsto$ Prize.id
	}
	\\
	{
		\textbf{TeamTrophyCase}
	}
	&
	{
		(\pk{\fk{trophyId}, \fk{teamId},
		\fk{competitionId}, \fk{startYear}})\\
		\bigskip (teamId, competitionId, startYear) $\mapsto$
		(Partecipation.teamId, Partecipation.competitionId,
		Partecipation.startYear)
	}
	\\
	{
		\textbf{Trophy}
	}
	&
	{
		(\pk{id}, type, role, name)
	}
	\\
\end{tblr}